(self["webpackChunklens_app"]=self["webpackChunklens_app"]||[]).push([[618],{1530:(e,t,n)=>{"use strict";var o=n(8710).charAt;e.exports=function(e,t,n){return t+(n?o(e,t).length:1)}},7007:(e,t,n)=>{"use strict";n(4916);var o=n(1470),s=n(8052),a=n(2261),r=n(7293),l=n(5112),i=n(8880),c=l("species"),u=RegExp.prototype;e.exports=function(e,t,n,d){var f=l(e),m=!r((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),w=m&&!r((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!m||!w||n){var p=o(/./[f]),g=t(f,""[e],(function(e,t,n,s,r){var l=o(e),i=t.exec;return i===a||i===u.exec?m&&!r?{done:!0,value:p(t,n,s)}:{done:!0,value:l(n,t,s)}:{done:!1}}));s(String.prototype,e,g[0]),s(u,f,g[1])}d&&i(u[f],"sham",!0)}},647:(e,t,n)=>{var o=n(1702),s=n(7908),a=Math.floor,r=o("".charAt),l=o("".replace),i=o("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,o,d,f){var m=n+e.length,w=o.length,p=u;return void 0!==d&&(d=s(d),p=c),l(f,p,(function(s,l){var c;switch(r(l,0)){case"$":return"$";case"&":return e;case"`":return i(t,0,n);case"'":return i(t,m);case"<":c=d[i(l,1,-1)];break;default:var u=+l;if(0===u)return s;if(u>w){var f=a(u/10);return 0===f?s:f<=w?void 0===o[f-1]?r(l,1):o[f-1]+r(l,1):s}c=o[u-1]}return void 0===c?"":c}))}},7651:(e,t,n)=>{var o=n(6916),s=n(9670),a=n(614),r=n(4326),l=n(2261),i=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var c=o(n,e,t);return null!==c&&s(c),c}if("RegExp"===r(e))return o(l,e,t);throw i("RegExp#exec called on incompatible receiver")}},8710:(e,t,n)=>{var o=n(1702),s=n(9303),a=n(1340),r=n(4488),l=o("".charAt),i=o("".charCodeAt),c=o("".slice),u=function(e){return function(t,n){var o,u,d=a(r(t)),f=s(n),m=d.length;return f<0||f>=m?e?"":void 0:(o=i(d,f),o<55296||o>56319||f+1===m||(u=i(d,f+1))<56320||u>57343?e?l(d,f):o:e?c(d,f,f+2):u-56320+(o-55296<<10)+65536)}};e.exports={codeAt:u(!1),charAt:u(!0)}},5306:(e,t,n)=>{"use strict";var o=n(2104),s=n(6916),a=n(1702),r=n(7007),l=n(7293),i=n(9670),c=n(614),u=n(8554),d=n(9303),f=n(7466),m=n(1340),w=n(4488),p=n(1530),g=n(8173),h=n(647),v=n(7651),_=n(5112),W=_("replace"),I=Math.max,k=Math.min,$=a([].concat),x=a([].push),y=a("".indexOf),C=a("".slice),E=function(e){return void 0===e?e:String(e)},b=function(){return"$0"==="a".replace(/./,"$0")}(),S=function(){return!!/./[W]&&""===/./[W]("a","$0")}(),R=!l((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));r("replace",(function(e,t,n){var a=S?"$":"$0";return[function(e,n){var o=w(this),a=u(e)?void 0:g(e,W);return a?s(a,e,o,n):s(t,m(o),e,n)},function(e,s){var r=i(this),l=m(e);if("string"==typeof s&&-1===y(s,a)&&-1===y(s,"$<")){var u=n(t,r,l,s);if(u.done)return u.value}var w=c(s);w||(s=m(s));var g=r.global;if(g){var _=r.unicode;r.lastIndex=0}var W=[];while(1){var b=v(r,l);if(null===b)break;if(x(W,b),!g)break;var S=m(b[0]);""===S&&(r.lastIndex=p(l,f(r.lastIndex),_))}for(var R="",T=0,O=0;O<W.length;O++){b=W[O];for(var U=m(b[0]),j=I(k(d(b.index),l.length),0),A=[],Z=1;Z<b.length;Z++)x(A,E(b[Z]));var P=b.groups;if(w){var z=$([U],A,j,l);void 0!==P&&x(z,P);var L=m(o(s,void 0,z))}else L=h(U,l,j,A,P,s);j>=T&&(R+=C(l,T,j)+L,T=j+U.length)}return R+C(l,T)}]}),!R||!b||S)},323:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,p:()=>r});n(4916),n(5306);var o=n(381),s=n.n(o);const a=(e="")=>e.replace(/(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})/,"+$1 ($2) $3-$4-$5"),r=(e="",t="DD.MM.YYYY")=>e?s()(e).format(t):""},8172:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(7658);var o=n(6252),s=n(3577);function a(e,t,n,a,r,l){const i=(0,o.up)("ion-label"),c=(0,o.up)("ion-item"),u=(0,o.up)("ion-icon"),d=(0,o.up)("ion-col"),f=(0,o.up)("ion-row"),m=(0,o.up)("ion-list"),w=(0,o.up)("ion-card-content"),p=(0,o.up)("ion-card");return(0,o.wg)(),(0,o.j4)(p,{class:"address"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{class:"content"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{lines:"none"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"title"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(n.title),1)])),_:1})])),_:1}),(0,o.Wm)(c,{lines:"none"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"ion-align-items-start ion-nowrap"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"icon-col"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"assets/icon/location-profile.svg",class:"ion-margin-end icon"})])),_:1}),(0,o.Wm)(d,{class:"text-col"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"text"},{default:(0,o.w5)((()=>[(0,o.Uk)("г. Владивосток, ул. Енисейская, 23Д пом. 102 ")])),_:1}),(0,o._)("div",null,[(0,o._)("a",{herf:"#",class:"link-view-card",onClick:t[0]||(t[0]=t=>e.$router.push({name:"Map"}))},"Посмотреть на карте")])])),_:1})])),_:1})])),_:1}),(0,o.Wm)(c,{lines:"none"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"ion-align-items-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"icon-col"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"assets/icon/alarm-profile.svg",class:"ion-margin-end icon"})])),_:1}),(0,o.Wm)(d,{class:"text-col"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"text"},{default:(0,o.w5)((()=>[(0,o.Uk)("пн-вс: 09:00-20:00")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var r=n(3687);const l={name:"Address",props:{title:{type:String,default:""}},components:{IonCol:r.wI,IonCard:r.PM,IonCardContent:r.FN,IonLabel:r.Q$,IonItem:r.Ie,IonList:r.q_,IonIcon:r.gu,IonRow:r.Nd}};var i=n(3744);const c=(0,i.Z)(l,[["render",a]]),u=c},8596:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(6252),s=n(3577);function a(e,t,n,a,r,l){const i=(0,o.up)("ion-button"),c=(0,o.up)("ion-buttons");return(0,o.wg)(),(0,o.j4)(c,{class:"btn"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{fill:"solid",class:"custom-btn",disabled:e.disabled},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.title),1)])),_:1},8,["disabled"])])),_:1})}var r=n(3687);const l=(0,o.aZ)({name:"Button",props:{title:{type:String,default:""},disabled:{type:Boolean,default:!1}},components:{IonButton:r.YG,IonButtons:r.Sm}});var i=n(3744);const c=(0,i.Z)(l,[["render",a],["__scopeId","data-v-036daa60"]]),u=c},1836:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(6252);function s(e,t,n,s,a,r){const l=(0,o.up)("ion-grid"),i=(0,o.up)("ion-refresher-content"),c=(0,o.up)("ion-refresher"),u=(0,o.up)("ion-content");return(0,o.wg)(),(0,o.j4)(u,{ref:"Content","scroll-events":!0,onIonScroll:e.onScroll},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{class:"ion-no-padding container",fixed:""},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3}),(0,o.Wm)(c,{slot:"fixed",onIonRefresh:e.doRefresh,class:"refresher"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"refresher-content"})])),_:1},8,["onIonRefresh"])])),_:3},8,["onIonScroll"])}var a=n(3687);const r=(0,o.aZ)({name:"Content",components:{IonContent:a.W2,IonRefresher:a.nJ,IonRefresherContent:a.Wo,IonGrid:a.jY},props:{}||[],emits:["refresh","onScrollEnd"],data:()=>({refreshing:!1}),methods:{async doRefresh(e){await this.$emit("refresh",(()=>e.target.complete()))},async refresh(){this.refreshing=!0,await this.$emit("refresh"),this.refreshing=!1},async onScroll(e){const t=await this.$refs.Content.$el.getScrollElement(),{offsetHeight:n,scrollTop:o,scrollHeight:s}=t;o+n>=s-n&&this.$emit("onScrollEnd",{event:e,scrollTop:o,scrollHeight:s,offsetHeight:n})}}});var l=n(3744);const i=(0,l.Z)(r,[["render",s]]),c=i},4045:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(6252);function s(e,t,n,s,a,r){const l=(0,o.up)("ion-backdrop"),i=(0,o.up)("ion-spinner"),c=(0,o.up)("ion-label"),u=(0,o.up)("ion-item"),d=(0,o.up)("ion-content");return(0,o.wg)(),(0,o.j4)(d,{"scroll-y":!1},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{visible:!0,class:"backdrop"}),(0,o.Wm)(u,{lines:"none",class:"ion-justify-content-center ion-align-items-center spinner"},{default:(0,o.w5)((()=>[(0,o.Wm)(i),(0,o.Wm)(c,{class:"ion-margin-start"},{default:(0,o.w5)((()=>[(0,o.Uk)("Загрузка...")])),_:1})])),_:1})])),_:1})}var a=n(3687);const r=(0,o.aZ)({name:"Loading",components:{IonItem:a.Ie,IonBackdrop:a.ql,IonSpinner:a.PQ,IonLabel:a.Q$,IonContent:a.W2}});var l=n(3744);const i=(0,l.Z)(r,[["render",s]]),c=i},6944:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});n(7658);var o=n(6252),s=n(3577);const a={href:"tel:+79502822722",class:"ion-margin-start text",style:{color:"#17a1fa"}};function r(e,t,n,r,l,i){const c=(0,o.up)("Header"),u=(0,o.up)("Loading"),d=(0,o.up)("ion-icon"),f=(0,o.up)("ion-button"),m=(0,o.up)("ion-buttons"),w=(0,o.up)("ion-label"),p=(0,o.up)("ion-row"),g=(0,o.up)("ion-item"),h=(0,o.up)("ion-col"),v=(0,o.up)("ion-list"),_=(0,o.up)("ion-card-content"),W=(0,o.up)("ion-card"),I=(0,o.up)("Address"),k=(0,o.up)("Button"),$=(0,o.up)("Content"),x=(0,o.up)("ion-page");return(0,o.wg)(),(0,o.j4)(x,{id:"profile"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{title:e.$t("PROFILE"),contact:""},null,8,["title"]),e.loading?((0,o.wg)(),(0,o.j4)(u,{key:0})):(0,o.kq)("",!0),e.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)($,{key:1,onRefresh:e.refresh},{default:(0,o.w5)((()=>[e.token?((0,o.wg)(),(0,o.j4)(W,{key:0,class:"contact"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{class:"content"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,{class:"user-info"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{class:"user-name",style:{display:"flex","align-items":"center"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(`${e.user.firstname} ${e.user.lastname}`)+" ",1),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{onClick:t[0]||(t[0]=t=>e.$router.push({name:"EditProfile"}))},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{size:"small",slot:"icon-only",icon:"assets/icon/edit.svg"})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(w,{class:"user-phone"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.formatPhone(e.user.phone)),1)])),_:1})])),_:1}),(0,o.Wm)(p)])),_:1}),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,{class:"item-row"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"icon-col"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{icon:"assets/icon/my-order.svg",class:"ion-margin-end icon"})])),_:1}),(0,o.Wm)(h,{class:"text-col ion-justify-content-between ion-align-items-center",style:{display:"flex"},onClick:t[1]||(t[1]=t=>e.$router.push({name:"OrderHistory"}))},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{class:"text"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("MY-ORDERS")),1)])),_:1}),(0,o.Wm)(d,{icon:"assets/icon/arrow.svg"})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(g,{lines:"none"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{class:"item-row"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"icon-col"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{icon:"assets/icon/my-record.svg",class:"ion-margin-end icon"})])),_:1}),(0,o.Wm)(h,{class:"text-col ion-justify-content-between ion-align-items-center",style:{display:"flex"},onClick:t[2]||(t[2]=t=>e.$router.push({name:"RecordHistory"}))},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{class:"text"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("MY-VISITS")),1)])),_:1}),(0,o.Wm)(d,{icon:"assets/icon/arrow.svg"})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(I,{title:e.$t("OPTICS-ADDRESS")},null,8,["title"]),(0,o.Wm)(W,{class:"contact"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{class:"content"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{lines:"none"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{class:"title"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("CONNECT")),1)])),_:1})])),_:1}),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,{class:"item-row"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"icon-col"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{icon:"assets/icon/call-profile.svg",class:"icon"})])),_:1}),(0,o.Wm)(h,{class:"text-col"},{default:(0,o.w5)((()=>[(0,o._)("a",a,(0,s.zw)(e.$t("PHONE")),1)])),_:1})])),_:1})])),_:1}),(0,o.Wm)(g,{lines:"none"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{class:"item-row"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"icon-col"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{icon:"assets/icon/message-profile.svg",class:"ion-margin-end icon"})])),_:1}),(0,o.Wm)(h,{class:"text-col ion-justify-content-between ion-align-items-center",style:{display:"flex"},onClick:e.chat},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{class:"text"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("WRITE-TO-CHAT")),1)])),_:1}),(0,o.Wm)(d,{icon:"assets/icon/arrow.svg"})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),e.token?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(p,{key:1,class:"row"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{class:"ion-margin swiper-slide-shadow-bottom"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{class:"text-no-auth"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("PROFILE-TEXT")),1)])),_:1})])),_:1}),(0,o.Wm)(k,{title:e.$t("TO-ENTER"),class:"auth-button",onClick:t[3]||(t[3]=t=>e.$router.push({name:"Auth",params:{redirect:"Profile"}}))},null,8,["title"])])),_:1})),e.token?((0,o.wg)(),(0,o.j4)(p,{key:2,class:"ion-margin-bottom ion-margin ion-justify-content-between"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"logout-button",onClick:e.logout},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("LOGOUT")),1)])),_:1},8,["onClick"])])),_:1}),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"delete-button",onClick:t[4]||(t[4]=t=>e.presentAlert(e.user.id))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("DELETE-ACCOUNT")),1)])),_:1})])),_:1})])),_:1})):(0,o.kq)("",!0)])),_:1},8,["onRefresh"]))])),_:1})}n(4916),n(5306);var l=n(3687),i=n(4032),c=n(1836),u=n(8596),d=n(3907),f=n(4045),m=n(8172),w=n(323),p=n(5269);const g=(0,o.aZ)({name:"Profile",components:{Address:m.Z,Loading:f.Z,Button:u.Z,Content:c.Z,Header:i.Z,IonPage:l._i,IonCard:l.PM,IonCardContent:l.FN,IonRow:l.Nd,IonIcon:l.gu,IonLabel:l.Q$,IonCol:l.wI,IonList:l.q_,IonItem:l.Ie,IonButtons:l.Sm,IonButton:l.YG},data(){return{loading:!1,isOpenAlert:!1}},computed:{...(0,d.Se)(["user","token"])},methods:{formatPhone:w.C,...(0,d.OI)(["SET_TOKEN","SET_USER"]),...(0,d.nv)(["getUser"]),chat(){const e=window;e.location="https://wa.me/79502822722"},logout(){this.SET_TOKEN(""),localStorage.removeItem("jwt"),localStorage.removeItem("user")},async remove(e){this.loading=!0,await(0,p.kX)(e),localStorage.removeItem("user"),localStorage.removeItem("jwt"),this.SET_TOKEN(""),this.SET_USER({}),this.loading=!1,this.$router.replace({name:"Profile"})},async refresh(e=(()=>{})){try{await this.getUser(this.user.id)}finally{e()}},async presentAlert(e){const t=await l.Cl.create({header:this.$t("REMOVE"),message:this.$t("REMOVE-MESSAGE"),buttons:[{text:this.$t("CANCEL"),role:"cancel",handler:()=>{console.log("cancel")}},{text:this.$t("OK"),role:"confirm",handler:()=>{console.log("ok"),this.remove(e)}}]});await t.present(),await t.onDidDismiss()}},async mounted(){this.loading=!0,this.loading=!1}});var h=n(3744);const v=(0,h.Z)(g,[["render",r],["__scopeId","data-v-0a47dfe8"]]),_=v}}]);
//# sourceMappingURL=618-legacy.58dea34d.js.map