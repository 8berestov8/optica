{"version":3,"file":"js/764.fae33368.js","mappings":"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","sources":["webpack://lens-app/./src/helpers/from.js","webpack://lens-app/./src/views/EditProfile.vue","webpack://lens-app/./src/views/EditProfile.vue?afdd"],"sourcesContent":["export function clearFields() {\n  this.fields = { ...this.emptyFields };\n  this.errorFields = {};\n  this.error = '';\n  return true;\n}\n\nexport function objToFormData(obj) {\n  const fd = new FormData();\n  Object.keys(obj).forEach((key) => {\n    fd.append(key, obj[key] === null ? '' : obj[key]);\n  });\n\n  return fd;\n}\n\nexport function checkFields(e) {\n  let hasErrors = false;\n  if (typeof e === 'object' && e?.response?.data?.errors) {\n    const { errors } = e.response.data;\n    Object.keys(errors).forEach((i) => {\n      this.errorFields[i] = errors[i].join(', ');\n    });\n  } else {\n    Object.keys(this.fields).forEach((i) => {\n      if (\n        this.requiredFields.indexOf(i) >= 0 &&\n        !this.fields[i] &&\n        this.fields[i] !== 0\n      ) {\n        this.errorFields[i] = 'Обязательно для заполнения';\n        hasErrors = true;\n      } else {\n        this.errorFields[i] = false;\n      }\n    });\n  }\n  return hasErrors;\n}\n\nexport function checkSelect(e) {\n  let hasErrors = false;\n  if (typeof e === 'object' && e?.response?.data?.errors) {\n    const { errors } = e.response.data;\n    Object.keys(errors).forEach((i) => {\n      this.errorFields[i] = errors[i].join(', ');\n    });\n  } else {\n    Object.keys(this.fields).forEach((i) => {\n      if (\n        this.requiredFields.indexOf(i) >= 0 &&\n        !Object.keys(this.fields[i]).length &&\n        this.fields[i] !== 0\n      ) {\n        this.errorFields[i] = 'Обязательно для заполнения';\n        hasErrors = true;\n      } else {\n        this.errorFields[i] = false;\n      }\n    });\n  }\n  return hasErrors;\n}\n\nexport function checkSelectTwo(e) {\n  let hasErrors = false;\n  if (typeof e === 'object' && e?.response?.data?.errors) {\n    const { errors } = e.response.data;\n    Object.keys(errors).forEach((i) => {\n      this.errorFieldsTwo[i] = errors[i].join(', ');\n    });\n  } else {\n    Object.keys(this.fieldsTwo).forEach((i) => {\n      if (\n        this.requiredFieldsTwo.indexOf(i) >= 0 &&\n        !Object.keys(this.fieldsTwo[i]).length &&\n        this.fieldsTwo[i] !== 0\n      ) {\n        this.errorFieldsTwo[i] = 'Обязательно для заполнения';\n        hasErrors = true;\n      } else {\n        this.errorFieldsTwo[i] = false;\n      }\n    });\n  }\n  return hasErrors;\n}\n\nexport function checkFieldsAddress(e) {\n  let hasErrors = false;\n  if (typeof e === 'object' && e?.response?.data?.errors) {\n    const { errors } = e.response.data;\n    Object.keys(errors).forEach((i) => {\n      this.errorFields[i] = errors[i].join(', ');\n    });\n  } else {\n    Object.keys(this.address).forEach((i) => {\n      if (\n        this.requiredFieldsAddress.indexOf(i) >= 0 &&\n        !this.address[i] &&\n        this.address[i] !== 0\n      ) {\n        this.errorFields[i] = 'Обязательно для заполнения';\n        hasErrors = true;\n      } else {\n        this.errorFields[i] = false;\n      }\n    });\n  }\n  return hasErrors;\n}\n","<template>\n  <ion-page>\n    <Header :title=\"$t('MY-DETAILS')\" back />\n    <Loading v-if=\"loading\" />\n    <ion-content id=\"my-data\">\n      <ion-list class=\"ion-margin-end\">\n        <ItemInput lines :error=\"errorFields.firstname\" class=\"ion-margin-top\">\n          <ion-input\n            v-model=\"fields.firstname\"\n            label-placement=\"floating\"\n            :label=\"$t('FIRSTNAME-REQUIRED')\"\n          ></ion-input>\n        </ItemInput>\n\n        <ItemInput lines :error=\"errorFields.lastname\">\n          <ion-input\n            v-model=\"fields.lastname\"\n            label-placement=\"floating\"\n            :label=\"$t('LASTNAME-REQUIRED')\"\n          ></ion-input>\n        </ItemInput>\n\n        <ItemInput lines :error=\"errorFields.patronymic\">\n          <ion-input\n            v-model=\"fields.patronymic\"\n            label-placement=\"floating\"\n            :label=\"$t('PATRONYMIC-REQUIRED')\"\n          ></ion-input>\n        </ItemInput>\n\n        <ItemInput lines id=\"click-trigger\" class=\"ion-align-items-end\">\n          <ion-input\n            :value=\"formatDate(fields.birthday)\"\n            label-placement=\"floating\"\n            :label=\"$t('DATE-BIRTH')\"\n            disabled\n          ></ion-input>\n          <ion-icon icon=\"assets/icon/calendar-courier.svg\" class=\"icon\" />\n        </ItemInput>\n        <ItemDate v-model=\"fields.birthday\" />\n\n        <ItemInput lines :error=\"errorFields.email\">\n          <ion-input\n            v-model=\"fields.email\"\n            type=\"email\"\n            label-placement=\"floating\"\n            :label=\"$t('EMAIL')\"\n            @ionChange=\"validateEmail\"\n          ></ion-input>\n        </ItemInput>\n      </ion-list>\n\n      <Button :title=\"$t('SAVE')\" class=\"button\" @click=\"saveUser\" />\n    </ion-content>\n  </ion-page>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nimport { IonPage, IonContent, IonList, IonInput, IonIcon } from '@ionic/vue';\nimport Header from '@/components/ui/Header.vue';\nimport Button from '@/components/ui/Button.vue';\nimport { mapActions, mapGetters, mapMutations } from 'vuex';\nimport Loading from '@/components/ui/Loading.vue';\nimport ItemInput from '@/components/ui/ItemInput.vue';\nimport { checkFields, clearFields } from '@/helpers/from';\nimport ItemDate from '@/components/ui/ItemDate.vue';\nimport { formatDate } from '@/helpers/formatter';\n\nexport default defineComponent({\n  name: 'EditProfile',\n  components: {\n    ItemDate,\n    ItemInput,\n    Loading,\n    Button,\n    Header,\n    IonPage,\n    IonContent,\n    IonList,\n    IonInput,\n    IonIcon,\n  },\n  data() {\n    return {\n      fields: {\n        id: 0,\n        firstname: '',\n        lastname: '',\n        patronymic: '',\n        phone: '',\n        birthday: '',\n        email: '',\n      },\n      loading: false,\n      errorFields: {},\n      requiredFields: ['firstname', 'lastname', 'patronymic'],\n    };\n  },\n  mounted() {\n    this.fields = {\n      id: this.user.id,\n      firstname: this.user.firstname,\n      lastname: this.user.lastname,\n      patronymic: this.user.patronymic,\n      phone: this.user.phone,\n      birthday: this.user.birthday,\n      email: this.user.email,\n    };\n  },\n  methods: {\n    formatDate,\n    checkFields,\n    clearFields,\n    ...mapMutations(['SET_USER']),\n    ...mapActions(['updateUser']),\n    async saveUser() {\n      if (!this.checkFields()) {\n        this.loading = true;\n        this.SET_USER(this.fields);\n        this.$router.replace({ name: 'Profile' });\n        await this.updateUser(this.fields);\n        this.loading = false;\n        this.clearFields();\n      }\n    },\n    validateEmail() {\n      if (\n        // eslint-disable-next-line\n        /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.fields.email)\n      ) {\n        this.errorFields.email = '';\n      } else {\n        this.errorFields.email = this.$t('INCORRECT-EMAIL');\n      }\n    },\n  },\n  computed: {\n    ...mapGetters(['user']),\n  },\n});\n</script>\n\n<style scoped lang=\"scss\">\n#my-data {\n  --background: #ffffff;\n\n  .icon {\n    margin-bottom: 4px;\n  }\n\n  .button {\n    margin: 0 10px;\n    position: fixed;\n    bottom: 30px;\n    left: 0;\n    right: 0;\n  }\n}\n</style>\n","import { render } from \"./EditProfile.vue?vue&type=template&id=6dfd4575&scoped=true\"\nimport script from \"./EditProfile.vue?vue&type=script&lang=js\"\nexport * from \"./EditProfile.vue?vue&type=script&lang=js\"\n\nimport \"./EditProfile.vue?vue&type=style&index=0&id=6dfd4575&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/developer/Development/Projects/lens-app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6dfd4575\"]])\n\nexport default __exports__"],"names":["clearFields","this","fields","emptyFields","errorFields","error","checkFields","e","hasErrors","response","data","errors","Object","keys","forEach","i","join","requiredFields","indexOf","checkSelect","length","checkSelectTwo","errorFieldsTwo","fieldsTwo","requiredFieldsTwo","checkFieldsAddress","address","requiredFieldsAddress","_createBlock","_component_ion_page","_createVNode","_component_Header","title","_ctx","back","_component_Loading","key","_component_ion_content","id","_component_ion_list","class","_component_ItemInput","lines","firstname","_component_ion_input","label","lastname","patronymic","value","birthday","disabled","_component_ion_icon","icon","_component_ItemDate","email","type","onIonChange","_component_Button","onClick","defineComponent","name","components","ItemDate","ItemInput","Loading","Button","Header","IonPage","IonContent","IonList","IonInput","IonIcon","phone","loading","mounted","user","methods","formatDate","mapMutations","mapActions","async","SET_USER","$router","replace","updateUser","validateEmail","test","$t","computed","mapGetters","__exports__","render"],"sourceRoot":""}