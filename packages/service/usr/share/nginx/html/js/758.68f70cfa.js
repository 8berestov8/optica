"use strict";(self["webpackChunklens_app"]=self["webpackChunklens_app"]||[]).push([[758],{4045:(t,e,n)=>{n.d(e,{Z:()=>c});var a=n(6252);function r(t,e,n,r,i,o){const s=(0,a.up)("ion-backdrop"),d=(0,a.up)("ion-spinner"),c=(0,a.up)("ion-label"),l=(0,a.up)("ion-item"),u=(0,a.up)("ion-content");return(0,a.wg)(),(0,a.j4)(u,{"scroll-y":!1},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{visible:!0,class:"backdrop"}),(0,a.Wm)(l,{lines:"none",class:"ion-justify-content-center ion-align-items-center spinner"},{default:(0,a.w5)((()=>[(0,a.Wm)(d),(0,a.Wm)(c,{class:"ion-margin-start"},{default:(0,a.w5)((()=>[(0,a.Uk)("Загрузка...")])),_:1})])),_:1})])),_:1})}var i=n(3687);const o=(0,a.aZ)({name:"Loading",components:{IonItem:i.Ie,IonBackdrop:i.ql,IonSpinner:i.PQ,IonLabel:i.Q$,IonContent:i.W2}});var s=n(3744);const d=(0,s.Z)(o,[["render",r]]),c=d},5501:(t,e,n)=>{n.r(e),n.d(e,{default:()=>D});var a=n(6252),r=n(3577);const i=["src"],o={href:"#"};function s(t,e,n,s,d,c){const l=(0,a.up)("Header"),u=(0,a.up)("Loading"),p=(0,a.up)("CardInfo"),h=(0,a.up)("Skeleton"),m=(0,a.up)("ion-icon"),g=(0,a.up)("ion-label"),k=(0,a.up)("ion-row"),w=(0,a.up)("ion-avatar"),f=(0,a.up)("ion-item"),I=(0,a.up)("ion-card-content"),D=(0,a.up)("ion-card"),v=(0,a.up)("ion-text"),_=(0,a.up)("Button"),y=(0,a.up)("ion-content"),A=(0,a.up)("ion-page");return(0,a.wg)(),(0,a.j4)(A,{id:"check-recording"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{back:"",title:t.$t("VISIT-TO-DOCTOR")},null,8,["title"]),t.loading?((0,a.wg)(),(0,a.j4)(u,{key:0})):(0,a.kq)("",!0),t.loading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(y,{key:1,"scroll-y":!1},{default:(0,a.w5)((()=>[t.date&&t.handlerTime?((0,a.wg)(),(0,a.j4)(p,{key:0,title:t.$t("DATE-TIME-VISIT"),icon:"assets/icon/calendar-pickup.svg",description:t.formatDate(t.date,"DD MMMM YYYY"),subdescription:t.handlerTime.time},null,8,["title","description","subdescription"])):(0,a.kq)("",!0),!t.date&&t.handlerTime?((0,a.wg)(),(0,a.j4)(h,{key:1,class:"ion-margin-start ion-margin-end"})):(0,a.kq)("",!0),t.handlerOpticAddress.city?((0,a.wg)(),(0,a.j4)(p,{key:2,title:t.$t("OPTICS-ADDRESS"),icon:"assets/icon/location-profile.svg",description:`г. ${t.handlerOpticAddress.city}, ул. ${t.handlerOpticAddress.street}, ${t.handlerOpticAddress.number} пом. ${t.handlerOpticAddress.apartment}`},null,8,["title","description"])):(0,a.kq)("",!0),t.handlerOpticAddress.city?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(h,{key:3,class:"ion-margin-start ion-margin-end"})),t.handlerAvatar?((0,a.wg)(),(0,a.j4)(D,{key:4,class:"card-info"},{default:(0,a.w5)((()=>[(0,a.Wm)(I,{class:"content",style:{padding:"20px 6px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{lines:"none"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{class:"row"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{class:"ion-align-items-center ion-justify-content-start row"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{icon:"assets/icon/doctor.svg",class:"ion-margin-end icon"}),(0,a.Wm)(g,{class:"title"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(t.$t("DOCTOR")),1)])),_:1})])),_:1}),(0,a.Wm)(k,{class:"description-row"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"description"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(t.handlerDoctor.name),1)])),_:1}),(0,a.Wm)(g,{class:"description",style:{"margin-top":"8px"}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(t.formatPhone(t.handlerDoctor.phone)),1)])),_:1})])),_:1})])),_:1}),(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a._)("img",{src:t.handlerAvatar},null,8,i)])),_:1})])),_:1})])),_:1})])),_:1})):(0,a.kq)("",!0),t.handlerAvatar?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(h,{key:5,class:"ion-margin-start ion-margin-end"})),t.handlerData?((0,a.wg)(),(0,a.j4)(k,{key:6,class:"ion-margin-start ion-margin-end"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{class:"text"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(t.$t("AGREEMENT-TEXT"))+" ",1),(0,a._)("a",o,(0,r.zw)(t.$t("PERSONAL-DATA")),1)])),_:1})])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(_,{title:t.$t("RECORDING"),class:"recording-button",onClick:t.recording},null,8,["title","onClick"])])),_:1}))])),_:1})}n(7658),n(4916),n(5306);var d=n(3687),c=n(4032),l=n(2845),u=n(8596),p=n(4045),h=n(3907),m=n(323),g=n(2778),k=n(5536);const w=(0,a.aZ)({name:"CheckRecording",components:{Skeleton:k.Z,Loading:p.Z,Button:u.Z,CardInfo:l.Z,Header:c.Z,IonPage:d._i,IonContent:d.W2,IonCard:d.PM,IonCardContent:d.FN,IonRow:d.Nd,IonIcon:d.gu,IonLabel:d.Q$,IonAvatar:d.BJ,IonText:d.yW,IonItem:d.Ie},computed:{...(0,h.Se)(["token","time","date","optic_address","user","service","doctor"]),handlerAvatar(){return this.handlerDoctor.avatar?`http://24.199.110.103:1337${this.handlerDoctor.avatar}`:"https://ionicframework.com/docs/img/demos/avatar.svg"},handlerOpticAddress(){return this.optic_address},handlerData(){return this.token&&this.user.id&&this.user.firstname&&this.user.lastname&&this.user.patronymic},handlerDoctor(){return this.doctor},handlerTime(){return this.time},handlerDate(){return this.date}},data(){return{loading:!1,address:{}}},methods:{...(0,h.nv)(["getAddress","getDoctor"]),formatDate:m.p,formatPhone:m.C,async recording(){this.token||this.$router.push({name:"Auth",params:{redirect:"Recording"}}),this.token&&!this.handlerData&&this.$router.replace({name:"CheckData"}),this.handlerData&&(this.loading=!0,await(0,g.m2)({date:this.handlerDate,reserved:!0,doctor:this.handlerDoctor.id,optic:this.handlerDoctor.optica.data.id,recording:this.handlerTime.id,service:this.service,user:this.user.id}),this.$router.replace({name:"OrderRecording"}),this.loading=!1)}},async mounted(){this.loading=!0,await this.getDoctor(),this.loading=!1}});var f=n(3744);const I=(0,f.Z)(w,[["render",s]]),D=I}}]);
//# sourceMappingURL=758.68f70cfa.js.map