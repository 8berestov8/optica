"use strict";(self["webpackChunklens_app"]=self["webpackChunklens_app"]||[]).push([[764],{3226:(e,l,i)=>{function s(){return this.fields={...this.emptyFields},this.errorFields={},this.error="",!0}function t(e){var l,i;let s=!1;if("object"===typeof e&&null!==e&&void 0!==e&&null!==(l=e.response)&&void 0!==l&&null!==(i=l.data)&&void 0!==i&&i.errors){const{errors:l}=e.response.data;Object.keys(l).forEach((e=>{this.errorFields[e]=l[e].join(", ")}))}else Object.keys(this.fields).forEach((e=>{this.requiredFields.indexOf(e)>=0&&!this.fields[e]&&0!==this.fields[e]?(this.errorFields[e]="Обязательно для заполнения",s=!0):this.errorFields[e]=!1}));return s}function r(e){var l,i;let s=!1;if("object"===typeof e&&null!==e&&void 0!==e&&null!==(l=e.response)&&void 0!==l&&null!==(i=l.data)&&void 0!==i&&i.errors){const{errors:l}=e.response.data;Object.keys(l).forEach((e=>{this.errorFields[e]=l[e].join(", ")}))}else Object.keys(this.fields).forEach((e=>{this.requiredFields.indexOf(e)>=0&&!Object.keys(this.fields[e]).length&&0!==this.fields[e]?(this.errorFields[e]="Обязательно для заполнения",s=!0):this.errorFields[e]=!1}));return s}function a(e){var l,i;let s=!1;if("object"===typeof e&&null!==e&&void 0!==e&&null!==(l=e.response)&&void 0!==l&&null!==(i=l.data)&&void 0!==i&&i.errors){const{errors:l}=e.response.data;Object.keys(l).forEach((e=>{this.errorFieldsTwo[e]=l[e].join(", ")}))}else Object.keys(this.fieldsTwo).forEach((e=>{this.requiredFieldsTwo.indexOf(e)>=0&&!Object.keys(this.fieldsTwo[e]).length&&0!==this.fieldsTwo[e]?(this.errorFieldsTwo[e]="Обязательно для заполнения",s=!0):this.errorFieldsTwo[e]=!1}));return s}function o(e){var l,i;let s=!1;if("object"===typeof e&&null!==e&&void 0!==e&&null!==(l=e.response)&&void 0!==l&&null!==(i=l.data)&&void 0!==i&&i.errors){const{errors:l}=e.response.data;Object.keys(l).forEach((e=>{this.errorFields[e]=l[e].join(", ")}))}else Object.keys(this.address).forEach((e=>{this.requiredFieldsAddress.indexOf(e)>=0&&!this.address[e]&&0!==this.address[e]?(this.errorFields[e]="Обязательно для заполнения",s=!0):this.errorFields[e]=!1}));return s}i.d(l,{Ee:()=>s,d6:()=>t,fB:()=>o,ph:()=>a,q9:()=>r})},3574:(e,l,i)=>{i.r(l),i.d(l,{default:()=>y});var s=i(6252);function t(e,l,i,t,r,a){const o=(0,s.up)("Header"),n=(0,s.up)("Loading"),d=(0,s.up)("ion-input"),u=(0,s.up)("ItemInput"),m=(0,s.up)("ion-icon"),f=(0,s.up)("ItemDate"),h=(0,s.up)("ion-list"),c=(0,s.up)("Button"),p=(0,s.up)("ion-content"),b=(0,s.up)("ion-page");return(0,s.wg)(),(0,s.j4)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o,{title:e.$t("MY-DETAILS"),back:""},null,8,["title"]),e.loading?((0,s.wg)(),(0,s.j4)(n,{key:0})):(0,s.kq)("",!0),(0,s.Wm)(p,{id:"my-data"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"ion-margin-end"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{lines:"",error:e.errorFields.firstname,class:"ion-margin-top"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:e.fields.firstname,"onUpdate:modelValue":l[0]||(l[0]=l=>e.fields.firstname=l),"label-placement":"floating",label:e.$t("FIRSTNAME-REQUIRED")},null,8,["modelValue","label"])])),_:1},8,["error"]),(0,s.Wm)(u,{lines:"",error:e.errorFields.lastname},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:e.fields.lastname,"onUpdate:modelValue":l[1]||(l[1]=l=>e.fields.lastname=l),"label-placement":"floating",label:e.$t("LASTNAME-REQUIRED")},null,8,["modelValue","label"])])),_:1},8,["error"]),(0,s.Wm)(u,{lines:"",error:e.errorFields.patronymic},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:e.fields.patronymic,"onUpdate:modelValue":l[2]||(l[2]=l=>e.fields.patronymic=l),"label-placement":"floating",label:e.$t("PATRONYMIC-REQUIRED")},null,8,["modelValue","label"])])),_:1},8,["error"]),(0,s.Wm)(u,{lines:"",id:"click-trigger",class:"ion-align-items-end"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{value:e.formatDate(e.fields.birthday),"label-placement":"floating",label:e.$t("DATE-BIRTH"),disabled:""},null,8,["value","label"]),(0,s.Wm)(m,{icon:"assets/icon/calendar-courier.svg",class:"icon"})])),_:1}),(0,s.Wm)(f,{modelValue:e.fields.birthday,"onUpdate:modelValue":l[3]||(l[3]=l=>e.fields.birthday=l)},null,8,["modelValue"]),(0,s.Wm)(u,{lines:"",error:e.errorFields.email},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:e.fields.email,"onUpdate:modelValue":l[4]||(l[4]=l=>e.fields.email=l),type:"email","label-placement":"floating",label:e.$t("EMAIL"),onIonChange:e.validateEmail},null,8,["modelValue","label","onIonChange"])])),_:1},8,["error"])])),_:1}),(0,s.Wm)(c,{title:e.$t("SAVE"),class:"button",onClick:e.saveUser},null,8,["title","onClick"])])),_:1})])),_:1})}i(4916),i(5306);var r=i(3687),a=i(4032),o=i(8596),n=i(3907),d=i(4045),u=i(7906),m=i(3226),f=i(5344),h=i(323);const c=(0,s.aZ)({name:"EditProfile",components:{ItemDate:f.Z,ItemInput:u.Z,Loading:d.Z,Button:o.Z,Header:a.Z,IonPage:r._i,IonContent:r.W2,IonList:r.q_,IonInput:r.pK,IonIcon:r.gu},data(){return{fields:{id:0,firstname:"",lastname:"",patronymic:"",phone:"",birthday:"",email:""},loading:!1,errorFields:{},requiredFields:["firstname","lastname","patronymic"]}},mounted(){this.fields={id:this.user.id,firstname:this.user.firstname,lastname:this.user.lastname,patronymic:this.user.patronymic,phone:this.user.phone,birthday:this.user.birthday,email:this.user.email}},methods:{formatDate:h.p,checkFields:m.d6,clearFields:m.Ee,...(0,n.OI)(["SET_USER"]),...(0,n.nv)(["updateUser"]),async saveUser(){this.checkFields()||(this.loading=!0,this.SET_USER(this.fields),this.$router.replace({name:"Profile"}),await this.updateUser(this.fields),this.loading=!1,this.clearFields())},validateEmail(){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.fields.email)?this.errorFields.email="":this.errorFields.email=this.$t("INCORRECT-EMAIL")}},computed:{...(0,n.Se)(["user"])}});var p=i(3744);const b=(0,p.Z)(c,[["render",t],["__scopeId","data-v-6dfd4575"]]),y=b}}]);
//# sourceMappingURL=764.fae33368.js.map