"use strict";(self["webpackChunklens_app"]=self["webpackChunklens_app"]||[]).push([[364],{6699:(e,t,l)=>{var i=l(2109),n=l(1318).includes,s=l(7293),o=l(1223),a=s((function(){return!Array(1).includes()}));i({target:"Array",proto:!0,forced:a},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},1836:(e,t,l)=>{l.d(t,{Z:()=>d});var i=l(6252);function n(e,t,l,n,s,o){const a=(0,i.up)("ion-grid"),r=(0,i.up)("ion-refresher-content"),d=(0,i.up)("ion-refresher"),c=(0,i.up)("ion-content");return(0,i.wg)(),(0,i.j4)(c,{ref:"Content","scroll-events":!0,onIonScroll:e.onScroll},{default:(0,i.w5)((()=>[(0,i.Wm)(a,{class:"ion-no-padding container",fixed:""},{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:3}),(0,i.Wm)(d,{slot:"fixed",onIonRefresh:e.doRefresh,class:"refresher"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{class:"refresher-content"})])),_:1},8,["onIonRefresh"])])),_:3},8,["onIonScroll"])}var s=l(3687);const o=(0,i.aZ)({name:"Content",components:{IonContent:s.W2,IonRefresher:s.nJ,IonRefresherContent:s.Wo,IonGrid:s.jY},props:{}||[],emits:["refresh","onScrollEnd"],data:()=>({refreshing:!1}),methods:{async doRefresh(e){await this.$emit("refresh",(()=>e.target.complete()))},async refresh(){this.refreshing=!0,await this.$emit("refresh"),this.refreshing=!1},async onScroll(e){const t=await this.$refs.Content.$el.getScrollElement(),{offsetHeight:l,scrollTop:i,scrollHeight:n}=t;i+l>=n-l&&this.$emit("onScrollEnd",{event:e,scrollTop:i,scrollHeight:n,offsetHeight:l})}}});var a=l(3744);const r=(0,a.Z)(o,[["render",n]]),d=r},9250:(e,t,l)=>{l.d(t,{Z:()=>c});l(3948);var i=l(6252),n=l(3577);const s=["onClick"];function o(e,t,l,o,a,r){return(0,i.wg)(),(0,i.iD)("div",{class:"custom-select",onBlur:t[1]||(t[1]=(...t)=>e.hide&&e.hide(...t))},[(0,i._)("div",{class:(0,n.C_)(["selected",{open:e.open}]),onClick:t[0]||(t[0]=(...t)=>e.show&&e.show(...t))},(0,n.zw)(e.selected),3),(0,i._)("div",{class:(0,n.C_)(["items",{selectHide:!e.open}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.options,((t,l)=>((0,i.wg)(),(0,i.iD)("div",{key:l,onClick:l=>e.select(t)},(0,n.zw)(t.title),9,s)))),128))],2)],32)}const a=(0,i.aZ)({name:"Select",props:{modelValue:{type:Object,default:null},options:{type:Array,required:!0,default:()=>[]},placeholder:{type:String,required:!1,default:""}},emits:["isOpen","update:modelValue"],data(){return{open:!1}},computed:{selected(){return this.modelValue.title?this.modelValue.title:this.placeholder}},methods:{show(){this.open=!this.open,this.$emit("isOpen",this.open)},hide(){this.open=!1,this.$emit("isOpen",this.open)},select(e){this.open=!1,"string"!==typeof e&&this.$emit("update:modelValue",e),this.$emit("isOpen",this.open)}}});var r=l(3744);const d=(0,r.Z)(a,[["render",o],["__scopeId","data-v-84091406"]]),c=d},9200:(e,t,l)=>{l.r(t),l.d(t,{default:()=>te});l(7658);var i=l(6252);const n={class:"container",style:{margin:"5px"}},s={key:1,class:"wrapper"},o={key:2,class:"wrapper"};function a(e,t,l,a,r,d){const c=(0,i.up)("Header"),p=(0,i.up)("Loading"),u=(0,i.up)("ion-searchbar"),h=(0,i.up)("ion-icon"),f=(0,i.up)("ion-button"),m=(0,i.up)("ion-buttons"),g=(0,i.up)("ion-row"),y=(0,i.up)("FilterElement"),w=(0,i.up)("Product"),k=(0,i.up)("FilterModal"),_=(0,i.up)("Content"),C=(0,i.up)("ion-page");return(0,i.wg)(),(0,i.j4)(C,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{title:e.$t("CATALOG")},null,8,["title"]),e.loading?((0,i.wg)(),(0,i.j4)(p,{key:0,"is-open":e.loading},null,8,["is-open"])):(0,i.kq)("",!0),e.loading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(_,{key:1,onRefresh:e.refresh},{default:(0,i.w5)((()=>[(0,i._)("div",n,[(0,i.Wm)(g,{class:"ion-nowrap ion-justify-content-between search"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{class:"search",placeholder:e.$t("CATALOG-SEARCH"),onIonFocus:t[0]||(t[0]=t=>e.$router.push({name:"Search"}))},null,8,["placeholder"]),(0,i.Wm)(m,{style:{"padding-bottom":"6px","padding-right":"10px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{class:"filter",onClick:t[1]||(t[1]=t=>e.isFilter=!0)},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{icon:"assets/icon/filter.svg",class:"icon-filter"})])),_:1})])),_:1})])),_:1}),e.filter?((0,i.wg)(),(0,i.j4)(g,{key:0,class:"ion-margin-start ion-nowrap filter-element"},{default:(0,i.w5)((()=>[e.filter.type.length?((0,i.wg)(),(0,i.j4)(y,{key:0,options:e.filter.type,parent:"type",onClose:e.close},null,8,["options","onClose"])):(0,i.kq)("",!0),e.filter.period.length?((0,i.wg)(),(0,i.j4)(y,{key:1,options:e.filter.period,parent:"period",onClose:e.close},null,8,["options","onClose"])):(0,i.kq)("",!0),Object.keys(e.filter.sphere).length?((0,i.wg)(),(0,i.j4)(y,{key:2,options:e.filter.sphere,parent:"sphere",type:"",onClose:e.close},null,8,["options","onClose"])):(0,i.kq)("",!0),Object.keys(e.filter.radius).length?((0,i.wg)(),(0,i.j4)(y,{key:3,options:e.filter.radius,parent:"radius",type:"",onClose:e.close},null,8,["options","onClose"])):(0,i.kq)("",!0),Object.keys(e.filter.add).length?((0,i.wg)(),(0,i.j4)(y,{key:4,options:e.filter.add,parent:"add",type:"",onClose:e.close},null,8,["options","onClose"])):(0,i.kq)("",!0),Object.keys(e.filter.ax).length?((0,i.wg)(),(0,i.j4)(y,{key:5,options:e.filter.ax,parent:"ax",type:"",onClose:e.close},null,8,["options","onClose"])):(0,i.kq)("",!0),Object.keys(e.filter.cylinder).length?((0,i.wg)(),(0,i.j4)(y,{key:6,options:e.filter.cylinder,parent:"cylinder",type:"",onClose:e.close},null,8,["options","onClose"])):(0,i.kq)("",!0),Object.keys(e.filter.dominant).length?((0,i.wg)(),(0,i.j4)(y,{key:7,options:e.filter.dominant,parent:"dominant",type:"",onClose:e.close},null,8,["options","onClose"])):(0,i.kq)("",!0)])),_:1})):(0,i.kq)("",!0),e.filter.period.length||e.filter.type.length||Object.keys(e.filter.sphere).length||Object.keys(e.filter.radius).length||Object.keys(e.filter.add).length||Object.keys(e.filter.ax).length||Object.keys(e.filter.cylinder).length||Object.keys(e.filter.dominant).length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",s,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.categories,(t=>((0,i.wg)(),(0,i.j4)(w,{key:t.id,title:t.title,price:t.price,img:t.image,discount:t.discount,type:t.type,class:"product",onClick:l=>e.$router.push({name:"Categorie",params:{id:t.id}})},null,8,["title","price","img","discount","type","onClick"])))),128))])),e.filter.period.length||e.filter.type.length||Object.keys(e.filter.sphere).length||Object.keys(e.filter.radius).length||Object.keys(e.filter.add).length||Object.keys(e.filter.ax).length||Object.keys(e.filter.cylinder).length||Object.keys(e.filter.dominant).length?((0,i.wg)(),(0,i.iD)("div",o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.products,(t=>((0,i.wg)(),(0,i.j4)(w,{key:t.id,short_title:t.short_title,price:t.price,img:t.image,discount:t.discount,class:"product",onClick:l=>e.$router.push({name:"Categorie",params:{id:t.categorie}})},null,8,["short_title","price","img","discount","onClick"])))),128))])):(0,i.kq)("",!0)]),(0,i.Wm)(k,{show:e.isFilter,onHide:e.hide},null,8,["show","onHide"])])),_:1},8,["onRefresh"]))])),_:1})}var r=l(3687),d=l(4032),c=l(3577);const p={class:"image-box"},u={key:0,class:"discount"},h={class:"discount-text"},f=["src"];function m(e,t,l,n,s,o){const a=(0,i.up)("swiper-slide"),r=(0,i.up)("swiper"),d=(0,i.up)("ion-row"),m=(0,i.up)("ion-card-title"),g=(0,i.up)("ion-card-subtitle"),y=(0,i.up)("ion-card-header"),w=(0,i.up)("ion-card");return(0,i.wg)(),(0,i.j4)(w,{id:"product-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{class:"ion-justify-content-center ion-align-items-center"},{default:(0,i.w5)((()=>[(0,i._)("div",p,[e.discount?((0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("p",h,(0,c.zw)(`-${e.discount}%`),1)])):(0,i.kq)("",!0),(0,i.Wm)(r,{ref:"swiper",options:e.slideOpts,modules:e.modules,pagination:!0,autoplay:!0,class:"swiper"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.img,((e,t)=>((0,i.wg)(),(0,i.j4)(a,{key:t},{default:(0,i.w5)((()=>[(0,i._)("img",{src:e.url,class:"image"},null,8,f)])),_:2},1024)))),128))])),_:1},8,["options","modules"])])])),_:1}),(0,i.Wm)(y,{class:"header"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{class:"title"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(e.title)+" ",1),(0,i._)("span",null,(0,c.zw)(e.$t(e.type)),1),(0,i._)("span",null,(0,c.zw)(e.short_title),1)])),_:1}),(0,i.Wm)(d,{class:"ion-align-items-center row"},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"price"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(e.discountPrice)+" ₽",1)])),_:1}),e.discount?((0,i.wg)(),(0,i.j4)(g,{key:0,class:"old-price"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(e.price)+" "+(0,c.zw)(e.$t("RUBLE-SIGN")),1)])),_:1})):(0,i.kq)("",!0)])),_:1})])),_:1})])),_:1})}var g=l(8226),y=l(5134),w=l(8014),k=(l(6162),l(1911));const _=(0,i.aZ)({name:"Product",props:{title:{type:String,default:""},short_title:{type:String,default:""},price:{type:String,default:""},img:{type:Array,default:()=>[]},discount:{type:String,default:""},type:{type:String,default:""}},components:{IonCard:r.PM,IonCardHeader:r.Zi,IonCardTitle:r.Dq,IonRow:r.Nd,IonCardSubtitle:r.tO,Swiper:w.tq,SwiperSlide:w.o5},data(){return{slideOpts:{initialSlide:1,speed:400},modules:[k.tl,k.Qr,k.pt,k.N1,k.LW,k.LG,g.L$j]}},computed:{discountPrice(){return this.discount?(0,y.O)(this.price,this.discount):this.price}}});var C=l(3744);const S=(0,C.Z)(_,[["render",m]]),O=S;function I(e,t){const l=(0,i.up)("ion-icon"),n=(0,i.up)("ion-title"),s=(0,i.up)("ion-row"),o=(0,i.up)("MultipleButton"),a=(0,i.up)("ion-button"),r=(0,i.up)("ion-buttons"),d=(0,i.up)("Select"),p=(0,i.up)("ion-col"),u=(0,i.up)("Button"),h=(0,i.up)("ion-content"),f=(0,i.up)("ion-modal"),m=(0,i.up)("Popover");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(f,{"is-open":e.show,"initial-breakpoint":.9,onWillPresent:e.onChange,onDidDismiss:t[9]||(t[9]=t=>e.$emit("hide")),class:"filter-modal",ref:"modal"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{"scroll-y":!0},{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(s,{class:"ion-justify-content-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{icon:"assets/icon/line-menu.svg",class:"show-hide-icon"}),(0,i.Wm)(n,{class:"title"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(e.$t("FILTERS")),1)])),_:1})])),_:1}),(0,i.Wm)(s,{class:"ion-margin"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(e.$t("REPLACEMENT-PERIOD")),1)])),_:1})])),_:1}),(0,i.Wm)(s,{class:"ion-margin"},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{options:e.period,checked:e.filter.period,flag:!0,modelValue:e.filter.period,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter.period=t)},null,8,["options","checked","modelValue"])])),_:1}),(0,i.Wm)(s,{class:"ion-margin",style:{position:"relative"}},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(e.$t("LENS-TYPE")),1)])),_:1}),(0,i.Wm)(r,{class:"btn-question"},{default:(0,i.w5)((()=>[(0,i.Wm)(a,{onClick:e.openPopover},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{icon:"assets/icon/question.svg",slot:"icon-only",class:"icon-for-type"})])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,i.Wm)(s,{class:"ion-margin"},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{options:e.type,checked:e.filter.type,modelValue:e.filter.type,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filter.type=t)},null,8,["options","checked","modelValue"])])),_:1}),(0,i.Wm)(s,{class:"ion-margin"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{style:{"padding-left":"0"},class:(0,c.C_)(["ion-margin-end",{sphereRadius:e.isSphere}])},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(e.$t("SPHERE")),1)])),_:1}),(0,i.Wm)(d,{options:e.sphere,placeholder:e.$t("SELECT"),class:"ion-margin-top",onIsOpen:e.openShpere,modelValue:e.filter.sphere,"onUpdate:modelValue":t[2]||(t[2]=t=>e.filter.sphere=t)},null,8,["options","placeholder","onIsOpen","modelValue"])])),_:1},8,["class"]),(0,i.Wm)(p,{style:{"padding-right":"0"},class:(0,c.C_)({sphereRadius:e.isRadius})},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(e.$t("RADIUS-CURVATURE")),1)])),_:1}),(0,i.Wm)(d,{options:e.radius,placeholder:e.$t("SELECT"),class:"ion-margin-top",onIsOpen:e.openRadius,modelValue:e.filter.radius,"onUpdate:modelValue":t[3]||(t[3]=t=>e.filter.radius=t)},null,8,["options","placeholder","onIsOpen","modelValue"])])),_:1},8,["class"])])),_:1}),(0,i.Wm)(s,{class:"ion-margin"},{default:(0,i.w5)((()=>[e.adds.length?((0,i.wg)(),(0,i.j4)(p,{key:0,style:{"padding-left":"0"},class:(0,c.C_)(["ion-margin-end",{axAdd:e.isAdd}])},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(e.$t("ADDS")),1)])),_:1}),(0,i.Wm)(d,{options:e.adds,placeholder:e.$t("SELECT"),class:"ion-margin-top",onIsOpen:e.openAdd,modelValue:e.filter.add,"onUpdate:modelValue":t[4]||(t[4]=t=>e.filter.add=t)},null,8,["options","placeholder","onIsOpen","modelValue"])])),_:1},8,["class"])):(0,i.kq)("",!0),e.axes.length?((0,i.wg)(),(0,i.j4)(p,{key:1,style:{"padding-right":"0"},class:(0,c.C_)({axAdd:e.isAx})},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(e.$t("AXES")),1)])),_:1}),(0,i.Wm)(d,{options:e.axes,placeholder:e.$t("SELECT"),class:"ion-margin-top",onIsOpen:e.openAx,modelValue:e.filter.ax,"onUpdate:modelValue":t[5]||(t[5]=t=>e.filter.ax=t)},null,8,["options","placeholder","onIsOpen","modelValue"])])),_:1},8,["class"])):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(s,{class:"ion-margin"},{default:(0,i.w5)((()=>[e.cylinders.length?((0,i.wg)(),(0,i.j4)(p,{key:0,style:{"padding-left":"0"},class:(0,c.C_)([{cylinderDominant:e.isCylinder},"ion-margin-end"])},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(e.$t("CYLINDERS")),1)])),_:1}),(0,i.Wm)(d,{options:e.cylinders,placeholder:e.$t("SELECT"),class:"ion-margin-top",onIsOpen:e.openCylinder,modelValue:e.filter.cylinder,"onUpdate:modelValue":t[6]||(t[6]=t=>e.filter.cylinder=t)},null,8,["options","placeholder","onIsOpen","modelValue"])])),_:1},8,["class"])):(0,i.kq)("",!0),e.dominants.length?((0,i.wg)(),(0,i.j4)(p,{key:1,style:{"padding-left":"0"},class:(0,c.C_)({cylinderDominant:e.isDominant})},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"text"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(e.$t("DOMINANT")),1)])),_:1}),(0,i.Wm)(d,{options:e.dominants,placeholder:e.$t("SELECT"),class:"ion-margin-top",onIsOpen:e.openDominant,modelValue:e.filter.dominant,"onUpdate:modelValue":t[7]||(t[7]=t=>e.filter.dominant=t)},null,8,["options","placeholder","onIsOpen","modelValue"])])),_:1},8,["class"])):(0,i.kq)("",!0)])),_:1})])),_:1}),e.filter.period.length||e.filter.type.length||Object.keys(e.filter.sphere).length||Object.keys(e.filter.radius).length||Object.keys(e.filter.add).length||Object.keys(e.filter.ax).length||Object.keys(e.filter.cylinder).length||Object.keys(e.filter.dominant).length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(s,{key:0,class:(0,c.C_)([{openSelect:e.isCylinder||e.isDominant},"ion-justify-content-center"])},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{title:"Закрыть",onClick:t[8]||(t[8]=t=>e.$emit("hide")),class:"closeBtn"})])),_:1},8,["class"])),e.filter.period.length||e.filter.type.length||Object.keys(e.filter.sphere).length||Object.keys(e.filter.radius).length||Object.keys(e.filter.add).length||Object.keys(e.filter.ax).length||Object.keys(e.filter.cylinder).length||Object.keys(e.filter.dominant).length?((0,i.wg)(),(0,i.j4)(s,{key:1,class:(0,c.C_)(["ion-margin ion-justify-content-between",{openSelect:e.isCylinder||e.isDominant}])},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(a,{fill:"solid",style:{color:"#ffffff"},class:"action-button",onClick:e.apply},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(e.$t("APPLY")),1)])),_:1},8,["onClick"])])),_:1}),(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(a,{fill:"outline",class:"action-button",onClick:e.clear},{default:(0,i.w5)((()=>[(0,i.Uk)((0,c.zw)(e.$t("RESET")),1)])),_:1},8,["onClick"])])),_:1})])),_:1},8,["class"])):(0,i.kq)("",!0)])),_:1})])),_:1},8,["is-open","initial-breakpoint","onWillPresent"]),(0,i.Wm)(m,{"button-ok":e.$t("OK"),onHandler:e.closePopover},null,8,["button-ok","onHandler"])],64)}l(1817);var E=l(9250),j=l(8596),W=l(9430);l(6699);const b={class:"multiple-buttons"},D=["value","onClick"],T={key:0},v={key:1};function R(e,t,l,n,s,o){return(0,i.wg)(),(0,i.iD)("ul",b,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.options,((t,l)=>((0,i.wg)(),(0,i.iD)("li",{key:l},[(0,i._)("label",{class:(0,c.C_)({checked:e.checked.includes(t)})},[(0,i._)("input",{type:"checkbox",value:t.title,onClick:l=>e.onChange(t)},null,8,D),e.flag?((0,i.wg)(),(0,i.iD)("span",T,(0,c.zw)(e.$tc("COUNT-REPLACEMENT-PERIOD",Number(t.title))),1)):(0,i.kq)("",!0),e.flag?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",v,(0,c.zw)(e.$t(t.title)),1))],2)])))),128))])}const $=(0,i.aZ)({name:"MultipleButton",props:["checked","options","flag"],emits:["update:modelValue"],methods:{onChange(e){let t=[].concat(this.checked);t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),this.$emit("update:modelValue",t)}}}),x=(0,C.Z)($,[["render",R],["__scopeId","data-v-22666030"]]),A=x;var P=l(3907);const V=(0,i.aZ)({name:"Filter",props:{show:{type:Boolean,default:!1}},emits:["hide"],components:{Select:E.Z,MultipleButton:A,Button:j.Z,IonModal:r.ki,IonContent:r.W2,IonRow:r.Nd,IonTitle:r.wd,IonButtons:r.Sm,IonButton:r.YG,IonCol:r.wI,IonIcon:r.gu,Popover:W.Z},data:()=>({isRadius:!1,isSphere:!1,isAdd:!1,isAx:!1,isCylinder:!1,isDominant:!1,filter:{type:[],period:[],sphere:{},radius:{},add:{},ax:{},cylinder:{},dominant:{}}}),computed:{...(0,P.Se)({store_filter:"filter",type:"type",radius:"radius",sphere:"sphere",period:"period",adds:"adds",axes:"axes",cylinders:"cylinders",dominants:"dominants"})},methods:{...(0,P.OI)(["SET_POPOVER","SET_FILTER"]),...(0,P.nv)(["filterProducts"]),onChange(){this.filter={...this.store_filter}},openSelect(e){this.isActive=e},openRadius(e){this.isRadius=e},openShpere(e){this.isSphere=e},openCylinder(e){this.isCylinder=e},openAx(e){this.isAx=e},openAdd(e){this.isAdd=e},openDominant(e){this.isDominant=e},closePopover(){this.SET_POPOVER({show:!1,message:[]})},openPopover(){const e=[];this.type.map((t=>{e.push(t.description)})),this.SET_POPOVER({show:!0,message:e})},apply(){this.$emit("hide"),this.SET_FILTER(this.filter),this.filterProducts(),this.$refs.modal.$el.dismiss()},clear(){this.filter.type=[],this.filter.period=[],this.filter.sphere={},this.filter.radius={},this.filter.add={},this.filter.ax={},this.filter.cylinder={},this.filter.dominant={},this.SET_FILTER({type:[],period:[],sphere:{},radius:{},add:{},ax:{},cylinder:{},dominant:{}})}}}),U=(0,C.Z)(V,[["render",I]]),q=U,L=e=>((0,i.dD)("data-v-3d5651c3"),e=e(),(0,i.Cn)(),e),z={class:"multiple-buttons"},Z={key:0},H=["onClick"],F={key:0},N=L((()=>(0,i._)("img",{src:"assets/icon/close.svg",class:"img"},null,-1))),B={key:1};function Y(e,t,l,n,s,o){return(0,i.wg)(),(0,i.iD)("ul",z,[e.type?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Z,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.options,((t,l)=>((0,i.wg)(),(0,i.iD)("li",{key:l},[(0,i._)("label",null,[(0,i._)("span",null,[(0,i.Uk)((0,c.zw)(e.$t(t.title))+" ",1),(0,i._)("img",{src:"assets/icon/close.svg",class:"img",onClick:l=>e.close(t)},null,8,H)])]),e.type?((0,i.wg)(),(0,i.iD)("label",F,[(0,i._)("span",null,[(0,i.Uk)((0,c.zw)(e.options.title)+" ",1),N])])):(0,i.kq)("",!0)])))),128))])),e.type&&Object.keys(e.options).length?((0,i.wg)(),(0,i.iD)("li",B,[(0,i._)("label",null,[(0,i._)("span",null,[(0,i.Uk)((0,c.zw)(e.options.title)+" ",1),(0,i._)("img",{src:"assets/icon/close.svg",class:"img",onClick:t[0]||(t[0]=t=>e.close(e.options))})])])])):(0,i.kq)("",!0)])}const G=(0,i.aZ)({name:"FilterElement",props:{options:{type:Object,default:()=>{}},type:{type:Boolean,default:!1},parent:{type:String,default:""}},emits:["close"],methods:{close(e){const t={parent:this.parent,value:e};this.$emit("close",t)}}}),M=(0,C.Z)(G,[["render",Y],["__scopeId","data-v-3d5651c3"]]),K=M;var J=l(1836),Q=l(4045);const X=(0,i.aZ)({name:"Catalog",components:{Loading:Q.Z,Content:J.Z,FilterElement:K,FilterModal:q,Product:O,Header:d.Z,IonPage:r._i,IonRow:r.Nd,IonIcon:r.gu,IonButton:r.YG,IonButtons:r.Sm,IonSearchbar:r.VI},data(){return{isFilter:!1}},computed:{...(0,P.Se)(["filter","products","loading","categories"])},async mounted(){this.SET_FILTER({type:[],period:[],sphere:{},radius:{},add:{},ax:{},cylinder:{},dominant:{}})},methods:{...(0,P.OI)(["SET_FILTER","SET_META_PRODUCTS","SET_TYPE","SET_RADIUS","SET_RADIUS","SET_RADIUS","SET_LOADING"]),...(0,P.nv)(["getProducts","getTypes","getRadius","getSphere","getAdds","getAxes","getCylinders","getDominants","getPeriod","filterProducts","getCategories"]),async refresh(e=(()=>{})){try{await this.getCategories(),await this.getPeriod(),await this.getSphere(),await this.getRadius(),await this.getTypes(),await this.getAdds(),await this.getAxes(),await this.getCylinders(),await this.getDominants()}finally{e()}},hide(){this.isFilter=!1},close(e){this.SET_LOADING(!0);const t={...this.filter};if("sphere"===e.parent||"radius"===e.parent||"add"===e.parent||"ax"===e.parent||"cylinder"===e.parent||"dominant"===e.parent){for(let l in t[e.parent])delete t[e.parent][l];this.SET_FILTER(t),this.filterProducts(),this.SET_LOADING(!1)}"type"!==e.parent&&"period"!==e.parent||(t[e.parent]=t[e.parent].filter((t=>t.id!==e.value.id)),this.SET_FILTER(t),this.filterProducts(),this.SET_LOADING(!1))}}}),ee=(0,C.Z)(X,[["render",a]]),te=ee}}]);
//# sourceMappingURL=364.a1578108.js.map