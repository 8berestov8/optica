(self["webpackChunklens_app"]=self["webpackChunklens_app"]||[]).push([[954],{1530:(t,a,r)=>{"use strict";var e=r(8710).charAt;t.exports=function(t,a,r){return a+(r?e(t,a).length:1)}},7007:(t,a,r)=>{"use strict";r(4916);var e=r(1470),o=r(8052),i=r(2261),n=r(7293),d=r(5112),u=r(8880),l=d("species"),s=RegExp.prototype;t.exports=function(t,a,r,c){var v=d(t),p=!n((function(){var a={};return a[v]=function(){return 7},7!=""[t](a)})),b=p&&!n((function(){var a=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[l]=function(){return r},r.flags="",r[v]=/./[v]),r.exec=function(){return a=!0,null},r[v](""),!a}));if(!p||!b||r){var f=e(/./[v]),g=a(v,""[t],(function(t,a,r,o,n){var d=e(t),u=a.exec;return u===i||u===s.exec?p&&!n?{done:!0,value:f(a,r,o)}:{done:!0,value:d(r,a,o)}:{done:!1}}));o(String.prototype,t,g[0]),o(s,v,g[1])}c&&u(s[v],"sham",!0)}},647:(t,a,r)=>{var e=r(1702),o=r(7908),i=Math.floor,n=e("".charAt),d=e("".replace),u=e("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,a,r,e,c,v){var p=r+t.length,b=e.length,f=s;return void 0!==c&&(c=o(c),f=l),d(v,f,(function(o,d){var l;switch(n(d,0)){case"$":return"$";case"&":return t;case"`":return u(a,0,r);case"'":return u(a,p);case"<":l=c[u(d,1,-1)];break;default:var s=+d;if(0===s)return o;if(s>b){var v=i(s/10);return 0===v?o:v<=b?void 0===e[v-1]?n(d,1):e[v-1]+n(d,1):o}l=e[s-1]}return void 0===l?"":l}))}},7651:(t,a,r)=>{var e=r(6916),o=r(9670),i=r(614),n=r(4326),d=r(2261),u=TypeError;t.exports=function(t,a){var r=t.exec;if(i(r)){var l=e(r,t,a);return null!==l&&o(l),l}if("RegExp"===n(t))return e(d,t,a);throw u("RegExp#exec called on incompatible receiver")}},8710:(t,a,r)=>{var e=r(1702),o=r(9303),i=r(1340),n=r(4488),d=e("".charAt),u=e("".charCodeAt),l=e("".slice),s=function(t){return function(a,r){var e,s,c=i(n(a)),v=o(r),p=c.length;return v<0||v>=p?t?"":void 0:(e=u(c,v),e<55296||e>56319||v+1===p||(s=u(c,v+1))<56320||s>57343?t?d(c,v):e:t?l(c,v,v+2):s-56320+(e-55296<<10)+65536)}};t.exports={codeAt:s(!1),charAt:s(!0)}},5306:(t,a,r)=>{"use strict";var e=r(2104),o=r(6916),i=r(1702),n=r(7007),d=r(7293),u=r(9670),l=r(614),s=r(8554),c=r(9303),v=r(7466),p=r(1340),b=r(4488),f=r(1530),g=r(8173),h=r(647),m=r(7651),_=r(5112),y=_("replace"),x=Math.max,$=Math.min,k=i([].concat),I=i([].push),w=i("".indexOf),Z=i("".slice),A=function(t){return void 0===t?t:String(t)},S=function(){return"$0"==="a".replace(/./,"$0")}(),C=function(){return!!/./[y]&&""===/./[y]("a","$0")}(),M=!d((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));n("replace",(function(t,a,r){var i=C?"$":"$0";return[function(t,r){var e=b(this),i=s(t)?void 0:g(t,y);return i?o(i,t,e,r):o(a,p(e),t,r)},function(t,o){var n=u(this),d=p(t);if("string"==typeof o&&-1===w(o,i)&&-1===w(o,"$<")){var s=r(a,n,d,o);if(s.done)return s.value}var b=l(o);b||(o=p(o));var g=n.global;if(g){var _=n.unicode;n.lastIndex=0}var y=[];while(1){var S=m(n,d);if(null===S)break;if(I(y,S),!g)break;var C=p(S[0]);""===C&&(n.lastIndex=f(d,v(n.lastIndex),_))}for(var M="",T=0,W=0;W<y.length;W++){S=y[W];for(var j=p(S[0]),E=x($(c(S.index),d.length),0),Y=[],B=1;B<S.length;B++)I(Y,A(S[B]));var D=S.groups;if(b){var P=k([j],Y,E,d);void 0!==D&&I(P,D);var Q=p(e(o,void 0,P))}else Q=h(j,d,E,Y,D,o);E>=T&&(M+=Z(d,T,E)+Q,T=E+j.length)}return M+Z(d,T)}]}),!M||!S||C)},7151:(t,a,r)=>{"use strict";r.d(a,{HG:()=>d,SM:()=>n,fQ:()=>o,gO:()=>i});r(3948);var e=r(9735);const o=async t=>{try{const a=t.map((t=>{console.log(t);const a={product:t.product,product_amount:t.product_amount,product_count:t.product_count,product_discount:t.product_discount,sphere:t.sphere,radius:t.radius,add:t.add,axis:t.ax,dominant:t.dominant,cylinder:t.cylinder,categorie:t.categorie};return e.Z.post("/order-product-details",{data:a}).then((t=>t.data.id)).catch((t=>console.error(t)))}));return Promise.all(a)}catch(a){console.error(a)}},i=async t=>{try{const a={order_product_details:t.order_details,count:t.order.count,total_amount:t.order.total_amount,total_discount:t.order.total_discount,status_delivery:1,user:{id:t.order.user}},r=e.Z.post("/orders",{data:a});return r}catch(a){console.error(a)}},n=async t=>{try{return e.Z.get(`/orders?populate=*&filters[user][id]=${t}`).then((({data:t})=>t.map((t=>{var a;return{id:t.id,date:t.attributes.createdAt,count:t.attributes.count,price:t.attributes.total_discount,deliverTo:t.attributes.deliverTo.data,status:null===(a=t.attributes.status_delivery.data)||void 0===a?void 0:a.attributes.title}})))).catch((t=>console.error(t)))}catch(a){console.error(a)}},d=async t=>{try{return e.Z.get(`/orders/${t}?populate=*`).then((async({data:t})=>(console.log(t),Promise.all(t.attributes.order_product_details.data.map((t=>e.Z.get(`/order-product-details/${t.id}?populate=*`).then((async t=>{var a,r,o,i,n,d,u,l,s,c,v,p,b,f,g,h,m,_,y,x,$,k,I,w,Z,A,S,C,M,T,W,j,E,Y,B,D,P,Q,R,L,O,U,q,z,G,H,F,J,K;const N=await e.Z.get(`/products/${t.data.attributes.product.data.id}?populate=*`).then((t=>t.data.attributes.image.data.map((t=>t.attributes.url))));return console.log(t),{product:{id:t.data.attributes.product.data.id,title:t.data.attributes.product.data.attributes.title,short_title:t.data.attributes.product.data.attributes.short_title,price:t.data.attributes.product.data.attributes.price,discount:t.data.attributes.product.data.attributes.discount,img:N},price:t.data.attributes.product_discount,count:t.data.attributes.product_count,radius:{id:null===(a=t.data.attributes)||void 0===a||null===(r=a.radius)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.id,title:null===(i=t.data.attributes)||void 0===i||null===(n=i.radius)||void 0===n||null===(d=n.data)||void 0===d||null===(u=d.attributes)||void 0===u?void 0:u.title},sphere:{id:null===(l=t.data.attributes)||void 0===l||null===(s=l.sphere)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.id,title:null===(v=t.data.attributes)||void 0===v||null===(p=v.sphere)||void 0===p||null===(b=p.data)||void 0===b||null===(f=b.attributes)||void 0===f?void 0:f.title},add:{id:null===(g=t.data.attributes)||void 0===g||null===(h=g.add)||void 0===h||null===(m=h.data)||void 0===m?void 0:m.id,title:null===(_=t.data.attributes)||void 0===_||null===(y=_.add)||void 0===y||null===(x=y.data)||void 0===x||null===($=x.attributes)||void 0===$?void 0:$.title},ax:{id:null===(k=t.data.attributes)||void 0===k||null===(I=k.axi)||void 0===I||null===(w=I.data)||void 0===w?void 0:w.id,title:null===(Z=t.data.attributes)||void 0===Z||null===(A=Z.axi)||void 0===A||null===(S=A.data)||void 0===S||null===(C=S.attributes)||void 0===C?void 0:C.title},cylinder:{id:null===(M=t.data.attributes)||void 0===M||null===(T=M.cylinder)||void 0===T||null===(W=T.data)||void 0===W?void 0:W.id,title:null===(j=t.data.attributes)||void 0===j||null===(E=j.cylinder)||void 0===E||null===(Y=E.data)||void 0===Y||null===(B=Y.attributes)||void 0===B?void 0:B.title},dominant:{id:null===(D=t.data.attributes)||void 0===D||null===(P=D.dominant)||void 0===P||null===(Q=P.data)||void 0===Q?void 0:Q.id,title:null===(R=t.data.attributes)||void 0===R||null===(L=R.dominant)||void 0===L||null===(O=L.data)||void 0===O||null===(U=O.attributes)||void 0===U?void 0:U.title},categorie:{id:null===(q=t.data.attributes)||void 0===q||null===(z=q.categorie)||void 0===z||null===(G=z.data)||void 0===G?void 0:G.id,title:null===(H=t.data.attributes)||void 0===H||null===(F=H.categorie)||void 0===F||null===(J=F.data)||void 0===J||null===(K=J.attributes)||void 0===K?void 0:K.title}}})).catch((t=>console.error(t)))))).then((a=>{var r,e,o;return console.log(a),{id:t.id,date:t.attributes.createdAt,count:a.count,order_product_details:a,total_amount:t.attributes.total_amount,total_discount:t.attributes.total_discount,status:null===(r=t.attributes.status_delivery.data)||void 0===r?void 0:r.attributes.title,deliverTo:null!==(e=t.attributes.deliverTo)&&void 0!==e&&e.data?null===(o=t.attributes.deliverTo)||void 0===o?void 0:o.data.attributes:""}}))))).catch((t=>console.error(t)))}catch(a){console.error(a)}}},323:(t,a,r)=>{"use strict";r.d(a,{C:()=>i,p:()=>n});r(4916),r(5306);var e=r(381),o=r.n(e);const i=(t="")=>t.replace(/(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})/,"+$1 ($2) $3-$4-$5"),n=(t="",a="DD.MM.YYYY")=>t?o()(t).format(a):""},6561:(t,a,r)=>{"use strict";r.d(a,{Z:()=>s});var e=r(6252),o=r(3577);function i(t,a,r,i,n,d){const u=(0,e.up)("ion-badge"),l=(0,e.up)("ion-item");return(0,e.wg)(),(0,e.j4)(l,{lines:"none",style:(0,o.j5)({"--background":t.background})},{default:(0,e.w5)((()=>[(0,e.Wm)(u,{slot:"start",class:"badge",style:(0,o.j5)(t.handlerStatus)},{default:(0,e.w5)((()=>[(0,e.Uk)((0,o.zw)(t.status),1)])),_:1},8,["style"])])),_:1},8,["style"])}var n=r(3687);const d=(0,e.aZ)({name:"Badge",components:{IonItem:n.Ie,IonBadge:n.yp},props:{status:{type:String,default:""},background:{type:String,default:"#ffffff"}},computed:{handlerStatus(){return"Получен"===this.status?{background:this.background,color:"#000000"}:"Отменен"===this.status?{background:"#C90433",border:"none"}:{background:"#4DAC97"}}}});var u=r(3744);const l=(0,u.Z)(d,[["render",i],["__scopeId","data-v-6ff6c4e8"]]),s=l},4045:(t,a,r)=>{"use strict";r.d(a,{Z:()=>l});var e=r(6252);function o(t,a,r,o,i,n){const d=(0,e.up)("ion-backdrop"),u=(0,e.up)("ion-spinner"),l=(0,e.up)("ion-label"),s=(0,e.up)("ion-item"),c=(0,e.up)("ion-content");return(0,e.wg)(),(0,e.j4)(c,{"scroll-y":!1},{default:(0,e.w5)((()=>[(0,e.Wm)(d,{visible:!0,class:"backdrop"}),(0,e.Wm)(s,{lines:"none",class:"ion-justify-content-center ion-align-items-center spinner"},{default:(0,e.w5)((()=>[(0,e.Wm)(u),(0,e.Wm)(l,{class:"ion-margin-start"},{default:(0,e.w5)((()=>[(0,e.Uk)("Загрузка...")])),_:1})])),_:1})])),_:1})}var i=r(3687);const n=(0,e.aZ)({name:"Loading",components:{IonItem:i.Ie,IonBackdrop:i.ql,IonSpinner:i.PQ,IonLabel:i.Q$,IonContent:i.W2}});var d=r(3744);const u=(0,d.Z)(n,[["render",o]]),l=u}}]);
//# sourceMappingURL=954-legacy.985bc9a6.js.map